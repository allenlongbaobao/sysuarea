webpackJsonp([6],{qbhH:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("dhIU"),n=a.n(e).a.SERVER_IP,i={data:function(){return{hasAccount:!0,nameIllegal:!1,passIllegal:!1,passConsistIllegal:!1,signinFail:!1,signupFail:!1,nameIllegalInfo:"",emailIllegalInfo:"",threeParts:[{name:"微信",img:"./static/wechat.svg",link:"#"},{name:"微博",img:"./static/weibo.svg",link:"#"}]}},created:function(){this.hasAccount="signIn"===this.$route.params.type},methods:{showSignup:function(){this.hasAccount=!1},showSignin:function(){this.hasAccount=!0},forgetPass:function(){alert("oh, i forget")},clearSignFail:function(){!0===this.signinFail&&(this.signinFail=!1)},checkName:function(t){var s=this,a=t.target.value;/^^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]{6,12}$/.test(a)?(this.nameIllegalInfo="",this.$http.post(n+"/api/checkNameExisted",{name:a}).then(function(t){console.log(t),1!==t.body.code&&(s.nameIllegalInfo="用户名已存在，请重新输入")})):this.nameIllegalInfo=""!==a?"用户名格式不正确":""},checkEmail:function(t){var s=this,a=t.target.value;/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(a)?(this.emailIllegalInfo="",this.$http.post(n+"/api/checkEmailExisted",{email:a}).then(function(t){console.log(t),1!==t.body.code&&(s.emailIllegalInfo="邮箱已存在，请重新输入")})):this.emailIllegalInfo=""!==a?"邮箱格式不正确":""},checkPass:function(t){var s=t.target.value;s.length<6||s.length>12?0===s.length?this.passIllegal=!1:this.passIllegal=!0:this.passIllegal=!1},checkPassConsist:function(t){var s=t.target.value,a=document.getElementById("signupPass").value;this.passConsistIllegal=a!==s},signIn:function(){var t=this,s={email:document.getElementById("signinEmail").value,pass:document.getElementById("signinPass").value};this.$http.post(n+"/api/signIn",s,{withCredentials:!0}).then(function(s){console.log(s),1!==s.body.code?(t.signinFail=!0,document.getElementById("signinReset").click()):t.$router.push({path:"/home",params:{data:s.body.data,signIn:!0}})})},signUp:function(){var t=this,s={name:document.getElementById("signupName").value,email:document.getElementById("signupEmail").value,pass:document.getElementById("signupPass").value};console.log(s),this.$http.post(n+"/api/signUp",s,{withCredentials:!0}).then(function(s){console.log(s),1!==s.body.code?(t.signupFail=!0,document.getElementById("signupReset").click()):t.$router.push({path:"/home",params:{data:s.body.data,signIn:!0}})})}}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"wrap"},[a("p",{staticClass:"site-name"},[t._v("SYSU AREA")]),t._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:t.hasAccount,expression:"hasAccount"}],staticClass:"signin"},[a("input",{attrs:{id:"signinEmail",type:"text",name:"signin-email",placeholder:"邮箱"},on:{input:t.clearSignFail}}),t._v(" "),a("input",{attrs:{id:"signinPass",type:"password",name:"signin-pass",placeholder:"密码"},on:{inpu:t.clearSignFail}}),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{id:"signinReset",type:"reset",name:""}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.signinFail,expression:"signinFail"}],staticClass:"legal-info"},[t._v("账号错误，请重新输入")]),t._v(" "),a("div",[a("button",{staticClass:"sigin-btn",attrs:{type:"button"},on:{click:t.signIn}},[t._v("登录")]),t._v(" "),a("a",{attrs:{href:"javascript:(void 0)"},on:{click:t.showSignup}},[t._v("注册")]),t._v(" "),a("a",{attrs:{href:"javascript:(void 0)"},on:{click:t.forgetPass}},[t._v("忘记密码")])])]),t._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:!t.hasAccount,expression:"!hasAccount"}],staticClass:"signup"},[a("input",{attrs:{id:"signupName",type:"text",name:"signup-name",placeholder:"用户名"},on:{input:t.checkName}}),t._v(" "),a("span",{staticClass:"legal-info"},[t._v(t._s(t.nameIllegalInfo))]),t._v(" "),a("input",{attrs:{id:"signupEmail",type:"text",name:"sigup-email",placeholder:"邮箱"},on:{input:t.checkEmail}}),t._v(" "),a("span",{staticClass:"legal-info"},[t._v(t._s(t.emailIllegalInfo))]),t._v(" "),a("input",{attrs:{id:"signupPass",type:"password",name:"signup-pass",placeholder:"密码"},on:{input:t.checkPass}}),t._v(" "),t.passIllegal?a("span",{staticClass:"legal-info"},[t._v("密码长度应大于5小于13")]):t._e(),t._v(" "),a("input",{attrs:{type:"password",name:"signup-pass-repeat",placeholder:"重复密码"},on:{input:t.checkPassConsist}}),t._v(" "),t.passConsistIllegal?a("span",{staticClass:"legal-info"},[t._v("两次密码输入不一致")]):t._e(),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{id:"signupReset",type:"reset"}}),t._v(" "),a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.signupFail,expression:"signupFail"}],staticClass:"legal-info"},[t._v("注册失败")]),t._v(" "),a("button",{staticClass:"signup-btn",attrs:{type:"button"},on:{click:t.signUp}},[t._v("注册")]),t._v(" "),a("a",{attrs:{href:"javascript:(void 0)"},on:{click:t.showSignin}},[t._v("已有账号")])])]),t._v(" "),a("p",{staticClass:"three-part-p"},[t._v("第三方登录")]),t._v(" "),a("ul",{staticClass:"three-part-list"},t._l(t.threeParts,function(t){return a("li",[a("div",{staticClass:"oauth-bg"},[a("a",{attrs:{href:t.link}},[a("img",{attrs:{src:t.img}})])])])}))])},staticRenderFns:[]};var o=a("VU/8")(i,l,!1,function(t){a("qvtl")},"data-v-10368b74",null);s.default=o.exports},qvtl:function(t,s){}});
//# sourceMappingURL=6.cea0ef2ead385fccf8c1.js.map